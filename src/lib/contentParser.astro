---
import { getCollection } from "astro:content";

export const getSinglePage = async (collection: any) => {
  const allPage = await getCollection(collection);
  const removeIndex = allPage.filter((entry: any) => entry.id.match(/^(?!-)/));
  const removeDrafts = removeIndex.filter((entry: any) =>
    import.meta.env.PROD ? !entry.data.draft : true
  );
  return removeDrafts;
};
---
